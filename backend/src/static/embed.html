<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Chatbot Embed Instructions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .code-block {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        .example-container {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        iframe {
            width: 100%;
            height: 500px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>RAG Chatbot Embed Instructions</h1>

    <p>This page demonstrates how to embed the RAG Chatbot in your own website or application.</p>

    <h2>Method 1: Using an Iframe</h2>
    <p>Embed the chatbot using an iframe:</p>

    <div class="code-block">
        &lt;iframe
            src="http://localhost:8000/embed"
            width="100%"
            height="500px"
            frameborder="0"
            title="RAG Chatbot"&gt;
        &lt;/iframe&gt;
    </div>

    <h2>Method 2: Using JavaScript Widget</h2>
    <p>For more control, use the JavaScript widget:</p>

    <div class="code-block">
        &lt;div id="rag-chatbot-container"&gt;&lt;/div&gt;<br><br>

        &lt;script src="http://localhost:8000/static/chatbot-widget.js"&gt;&lt;/script&gt;<br>
        &lt;script&gt;<br>
        &nbsp;&nbsp;RAGChatbot.init({<br>
        &nbsp;&nbsp;&nbsp;&nbsp;containerId: 'rag-chatbot-container',<br>
        &nbsp;&nbsp;&nbsp;&nbsp;apiUrl: 'http://localhost:8000/api/v1',<br>
        &nbsp;&nbsp;&nbsp;&nbsp;height: '500px',<br>
        &nbsp;&nbsp;&nbsp;&nbsp;theme: 'default'<br>
        &nbsp;&nbsp;});<br>
        &lt;/script&gt;
    </div>

    <h2>Configuration Options</h2>
    <ul>
        <li><strong>containerId</strong>: ID of the container element</li>
        <li><strong>apiUrl</strong>: Base URL for the API (default: '/api/v1')</li>
        <li><strong>height</strong>: Height of the widget (default: '500px')</li>
        <li><strong>width</strong>: Width of the widget (default: '100%')</li>
        <li><strong>theme</strong>: Color theme ('default', 'dark', 'light')</li>
        <li><strong>showNotice</strong>: Whether to show the privacy notice (default: true)</li>
    </ul>

    <h2>Example Embed</h2>
    <div class="example-container">
        <p>Here's an example of the chatbot embedded in an iframe:</p>
        <iframe src="/static/index.html" title="RAG Chatbot Example"></iframe>
    </div>

    <h2>Communication with Parent Window</h2>
    <p>The embedded widget supports postMessage communication:</p>

    <div class="code-block">
        // Send message to embedded widget<br>
        iframe.contentWindow.postMessage({<br>
        &nbsp;&nbsp;type: 'RAG_CHATBOT_SET_TEXT',<br>
        &nbsp;&nbsp;text: 'Your text content here'<br>
        }, '*');<br><br>

        // Listen for messages from widget<br>
        window.addEventListener('message', function(event) {<br>
        &nbsp;&nbsp;if (event.data.type === 'RAG_CHATBOT_RESPONSE') {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;console.log('Response:', event.data.response);<br>
        &nbsp;&nbsp;}<br>
        });
    </div>
</body>
</html>