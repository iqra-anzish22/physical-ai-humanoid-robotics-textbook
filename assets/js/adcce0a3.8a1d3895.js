"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[109],{53:(e,t,n)=>{function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}n.d(t,{A:()=>a});const a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},1294:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var r=n(8168),a=(n(6540),n(5680)),i=n(9591);const s={title:"ROS 2 Examples and Exercises",sidebar_position:3,description:"Practical examples and exercises for ROS 2 development",keywords:["ros2","examples","exercises","robotics","practice","tutorials"]},c="ROS 2 Examples and Exercises",o={unversionedId:"ros2/examples",id:"ros2/examples",isDocsHomePage:!1,title:"ROS 2 Examples and Exercises",description:"Practical examples and exercises for ROS 2 development",source:"@site/docs/ros2/examples.md",sourceDirName:"ros2",slug:"/ros2/examples",permalink:"/physical-ai-humanoid-robotics-textbook/ros2/examples",editUrl:"https://github.com/iqra-anzish22/physical-ai-humanoid-robotics-textbook/edit/main/docs/ros2/examples.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"ROS 2 Examples and Exercises",sidebar_position:3,description:"Practical examples and exercises for ROS 2 development",keywords:["ros2","examples","exercises","robotics","practice","tutorials"]},sidebar:"textbookSidebar",previous:{title:"ROS 2 Setup and Configuration",permalink:"/physical-ai-humanoid-robotics-textbook/ros2/setup"},next:{title:"Gazebo & Unity Simulation",permalink:"/physical-ai-humanoid-robotics-textbook/gazebo-unity/index"}},l=[{value:"Example 1: Simple Publisher/Subscriber",id:"example-1-simple-publishersubscriber",children:[{value:"Exercise 1: Publisher/Subscriber Extension",id:"exercise-1-publishersubscriber-extension",children:[]}]},{value:"Example 2: Service Server/Client",id:"example-2-service-serverclient",children:[{value:"Exercise 2: Custom Service Implementation",id:"exercise-2-custom-service-implementation",children:[]}]},{value:"Example 3: Action Server/Client",id:"example-3-action-serverclient",children:[{value:"Exercise 3: Navigation Action Server",id:"exercise-3-navigation-action-server",children:[]}]},{value:"Example 4: Parameter Management",id:"example-4-parameter-management",children:[{value:"Exercise 4: Dynamic Parameter Configuration",id:"exercise-4-dynamic-parameter-configuration",children:[]}]},{value:"Example 5: TF2 Transformations",id:"example-5-tf2-transformations",children:[{value:"Exercise 5: Multi-Robot TF System",id:"exercise-5-multi-robot-tf-system",children:[]}]},{value:"Exercise 6: ROS 2 Launch System",id:"exercise-6-ros-2-launch-system",children:[]},{value:"Exercise 7: ROS 2 Testing Framework",id:"exercise-7-ros-2-testing-framework",children:[]},{value:"Exercise 8: Performance Optimization",id:"exercise-8-performance-optimization",children:[]},{value:"Exercise 9: ROS 2 Security Implementation",id:"exercise-9-ros-2-security-implementation",children:[]},{value:"Exercise 10: ROS 1/ROS 2 Bridge",id:"exercise-10-ros-1ros-2-bridge",children:[]},{value:"Summary",id:"summary",children:[]}],d={toc:l},m="wrapper";function p({components:e,...t}){return(0,a.yg)(m,(0,r.A)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"ros-2-examples-and-exercises"},"ROS 2 Examples and Exercises"),(0,a.yg)("h2",{id:"example-1-simple-publishersubscriber"},"Example 1: Simple Publisher/Subscriber"),(0,a.yg)("p",null,"This example demonstrates the basic communication pattern in ROS 2 using topics."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cpp"},'// publisher_member_function.cpp\n#include "rclcpp/rclcpp.hpp"\n#include "std_msgs/msg/string.hpp"\n\nusing namespace std::chrono_literals;\n\nclass MinimalPublisher : public rclcpp::Node\n{\npublic:\n    MinimalPublisher()\n    : Node("minimal_publisher"), count_(0)\n    {\n        publisher_ = this->create_publisher<std_msgs::msg::String>("topic", 10);\n        timer_ = this->create_wall_timer(\n            500ms, std::bind(&MinimalPublisher::timer_callback, this));\n    }\n\nprivate:\n    void timer_callback()\n    {\n        auto message = std_msgs::msg::String();\n        message.data = "Hello, world! " + std::to_string(count_++);\n        RCLCPP_INFO(this->get_logger(), "Publishing: \'%s\'", message.data.c_str());\n        publisher_->publish(message);\n    }\n    rclcpp::TimerBase::SharedPtr timer_;\n    rclcpp::Publisher<std_msgs::msg::String>::SharedPtr publisher_;\n    size_t count_;\n};\n')),(0,a.yg)("h3",{id:"exercise-1-publishersubscriber-extension"},"Exercise 1: Publisher/Subscriber Extension"),(0,a.yg)(i.A,{title:"Enhanced Publisher/Subscriber",difficulty:"beginner",type:"practical",instructions:"Extend the basic publisher/subscriber example to include message filtering. Create a subscriber that only processes messages containing specific keywords. Add error handling and logging capabilities.",expectedOutcome:"Students will understand basic ROS 2 communication patterns and be able to implement robust publisher/subscriber nodes with error handling.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"example-2-service-serverclient"},"Example 2: Service Server/Client"),(0,a.yg)("p",null,"This example shows how to implement services for request/reply communication."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},"# service_member_function.py\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\nclass MinimalService(Node):\n\n    def __init__(self):\n        super().__init__('minimal_service')\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n\n    def add_two_ints_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info('Incoming request\\na: %d b: %d' % (request.a, request.b))\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_service = MinimalService()\n    rclpy.spin(minimal_service)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n")),(0,a.yg)("h3",{id:"exercise-2-custom-service-implementation"},"Exercise 2: Custom Service Implementation"),(0,a.yg)(i.A,{title:"Custom Service for Robot Control",difficulty:"intermediate",type:"practical",instructions:"Create a custom service that accepts robot movement commands (linear and angular velocity) and returns the expected time to reach a target. Implement both the service server and client nodes.",expectedOutcome:"Students will understand how to create custom services and implement request/reply communication patterns in ROS 2.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"example-3-action-serverclient"},"Example 3: Action Server/Client"),(0,a.yg)("p",null,"Actions provide feedback and goal management for long-running tasks."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cpp"},'// action_server.cpp\n#include "rclcpp/rclcpp.hpp"\n#include "rclcpp_action/rclcpp_action.hpp"\n#include "example_interfaces/action/fibonacci.hpp"\n\nclass FibonacciActionServer : public rclcpp::Node\n{\npublic:\n    using Fibonacci = example_interfaces::action::Fibonacci;\n    using GoalHandleFibonacci = rclcpp_action::ServerGoalHandle<Fibonacci>;\n\n    explicit FibonacciActionServer(const rclcpp::NodeOptions & options = rclcpp::NodeOptions())\n    : Node("fibonacci_action_server", options)\n    {\n        using namespace std::placeholders;\n\n        action_server_ = rclcpp_action::create_server<Fibonacci>(\n            this,\n            "fibonacci",\n            std::bind(&FibonacciActionServer::handle_goal, this, _1, _2),\n            std::bind(&FibonacciActionServer::handle_cancel, this, _1),\n            std::bind(&FibonacciActionServer::handle_accepted, this, _1));\n    }\n\nprivate:\n    rclcpp_action::ActionServer<Fibonacci>::SharedPtr action_server_;\n\n    rclcpp_action::GoalResponse handle_goal(\n        const rclcpp_action::GoalUUID & uuid,\n        std::shared_ptr<const Fibonacci::Goal> goal)\n    {\n        RCLCPP_INFO(this->get_logger(), "Received goal request with order %d", goal->order);\n        return rclcpp_action::GoalResponse::ACCEPT_AND_EXECUTE;\n    }\n\n    rclcpp_action::CancelResponse handle_cancel(\n        const std::shared_ptr<GoalHandleFibonacci> goal_handle)\n    {\n        RCLCPP_INFO(this->get_logger(), "Received cancel request");\n        return rclcpp_action::CancelResponse::ACCEPT;\n    }\n\n    void handle_accepted(const std::shared_ptr<GoalHandleFibonacci> goal_handle)\n    {\n        using namespace std::placeholders;\n        std::thread{std::bind(&FibonacciActionServer::execute, this, _1), goal_handle}.detach();\n    }\n\n    void execute(const std::shared_ptr<GoalHandleFibonacci> goal_handle)\n    {\n        RCLCPP_INFO(this->get_logger(), "Executing goal");\n        rclcpp::Rate loop_rate(1);\n        const auto goal = goal_handle->get_goal();\n        auto feedback = std::make_shared<Fibonacci::Feedback>();\n        auto & sequence = feedback->sequence;\n        auto result = std::make_shared<Fibonacci::Result>();\n\n        sequence.push_back(0);\n        sequence.push_back(1);\n\n        for (int i = 1; (i < goal->order) && rclcpp::ok(); ++i) {\n            if (goal_handle->is_canceling()) {\n                result->sequence = sequence;\n                goal_handle->canceled(result);\n                RCLCPP_INFO(this->get_logger(), "Goal was canceled");\n                return;\n            }\n            sequence.push_back(sequence[i] + sequence[i - 1]);\n            goal_handle->publish_feedback(feedback);\n            RCLCPP_INFO(this->get_logger(), "Publishing feedback: %" PRId64, sequence[i + 1]);\n            loop_rate.sleep();\n        }\n\n        if (rclcpp::ok()) {\n            result->sequence = sequence;\n            goal_handle->succeed(result);\n            RCLCPP_INFO(this->get_logger(), "Goal succeeded");\n        }\n    }\n};\n')),(0,a.yg)("h3",{id:"exercise-3-navigation-action-server"},"Exercise 3: Navigation Action Server"),(0,a.yg)(i.A,{title:"Robot Navigation Action Server",difficulty:"advanced",type:"practical",instructions:"Implement an action server for robot navigation that accepts a goal pose and provides feedback on progress. Include obstacle detection, path recalculation, and goal tolerance checking.",expectedOutcome:"Students will understand how to implement complex action servers with feedback and recovery behaviors for robotics applications.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"example-4-parameter-management"},"Example 4: Parameter Management"),(0,a.yg)("p",null,"Parameter management allows runtime configuration of ROS 2 nodes."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},"# parameter_node.py\nimport rclpy\nfrom rclpy.node import Node\n\nclass ParameterNode(Node):\n\n    def __init__(self):\n        super().__init__('parameter_node')\n\n        # Declare parameters with default values\n        self.declare_parameter('robot_name', 'turtlebot')\n        self.declare_parameter('max_velocity', 0.5)\n        self.declare_parameter('safety_distance', 0.3)\n\n        # Get parameter values\n        self.robot_name = self.get_parameter('robot_name').value\n        self.max_velocity = self.get_parameter('max_velocity').value\n        self.safety_distance = self.get_parameter('safety_distance').value\n\n        # Set up parameter callback\n        self.add_on_set_parameters_callback(self.parameter_callback)\n\n        self.get_logger().info(f'Initialized {self.robot_name} with max velocity {self.max_velocity}')\n\n    def parameter_callback(self, params):\n        for param in params:\n            if param.name == 'max_velocity' and param.value > 2.0:\n                return SetParametersResult(successful=False, reason='Max velocity too high')\n        return SetParametersResult(successful=True)\n")),(0,a.yg)("h3",{id:"exercise-4-dynamic-parameter-configuration"},"Exercise 4: Dynamic Parameter Configuration"),(0,a.yg)(i.A,{title:"Dynamic Reconfiguration System",difficulty:"intermediate",type:"practical",instructions:"Create a parameter server that allows dynamic reconfiguration of robot behaviors. Implement parameter validation and coordination between multiple nodes that share parameters.",expectedOutcome:"Students will understand parameter management in ROS 2 and be able to implement dynamic configuration systems.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"example-5-tf2-transformations"},"Example 5: TF2 Transformations"),(0,a.yg)("p",null,"TF2 (Transform Library) manages coordinate frame transformations."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-cpp"},'// tf2_example.cpp\n#include <tf2/LinearMath/Quaternion.h>\n#include <tf2_ros/transform_broadcaster.h>\n#include <tf2_ros/transform_listener.h>\n#include <geometry_msgs/msg/transform_stamped.hpp>\n\nclass TF2Example : public rclcpp::Node\n{\npublic:\n    TF2Example() : Node("tf2_example")\n    {\n        tf_broadcaster_ = std::make_shared<tf2_ros::TransformBroadcaster>(this);\n        tf_buffer_ = std::make_unique<tf2_ros::Buffer>(this->get_clock());\n        tf_listener_ = std::make_shared<tf2_ros::TransformListener>(*tf_buffer_);\n    }\n\nprivate:\n    std::shared_ptr<tf2_ros::TransformBroadcaster> tf_broadcaster_;\n    std::unique_ptr<tf2_ros::Buffer> tf_buffer_;\n    std::shared_ptr<tf2_ros::TransformListener> tf_listener_;\n};\n')),(0,a.yg)("h3",{id:"exercise-5-multi-robot-tf-system"},"Exercise 5: Multi-Robot TF System"),(0,a.yg)(i.A,{title:"Multi-Robot Coordinate System",difficulty:"advanced",type:"practical",instructions:"Design a TF system for multiple robots operating in the same environment. Implement coordinate transformations between robot-local frames and a shared world frame.",expectedOutcome:"Students will understand TF2 for coordinate transformations and be able to design multi-robot coordinate systems.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"exercise-6-ros-2-launch-system"},"Exercise 6: ROS 2 Launch System"),(0,a.yg)(i.A,{title:"Complex Launch System",difficulty:"intermediate",type:"practical",instructions:"Create a launch file that starts multiple nodes with different configurations. Include parameter loading, node remapping, and conditional launching based on environment variables.",expectedOutcome:"Students will understand the ROS 2 launch system and be able to create complex launch configurations.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"exercise-7-ros-2-testing-framework"},"Exercise 7: ROS 2 Testing Framework"),(0,a.yg)(i.A,{title:"Unit and Integration Testing",difficulty:"advanced",type:"practical",instructions:"Implement unit tests for ROS 2 nodes using gtest and rclcpp. Create integration tests that verify communication between nodes and test system behavior.",expectedOutcome:"Students will understand ROS 2 testing methodologies and be able to implement comprehensive test suites.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"exercise-8-performance-optimization"},"Exercise 8: Performance Optimization"),(0,a.yg)(i.A,{title:"Real-Time Performance Tuning",difficulty:"advanced",type:"practical",instructions:"Analyze and optimize the performance of a ROS 2 system. Implement Quality of Service (QoS) settings, message throttling, and resource management.",expectedOutcome:"Students will understand performance considerations in ROS 2 and be able to optimize real-time systems.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"exercise-9-ros-2-security-implementation"},"Exercise 9: ROS 2 Security Implementation"),(0,a.yg)(i.A,{title:"Secure Communication Setup",difficulty:"advanced",type:"theoretical",instructions:"Configure ROS 2 security features including authentication, authorization, and encryption. Design a security policy for a multi-robot system.",expectedOutcome:"Students will understand ROS 2 security features and be able to implement secure communication in robotics systems.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"exercise-10-ros-1ros-2-bridge"},"Exercise 10: ROS 1/ROS 2 Bridge"),(0,a.yg)(i.A,{title:"ROS Bridge Implementation",difficulty:"advanced",type:"practical",instructions:"Set up a bridge between ROS 1 and ROS 2 systems. Transfer messages between the two systems and handle data type conversions.",expectedOutcome:"Students will understand how to connect ROS 1 and ROS 2 systems and manage inter-operability between different ROS versions.",mdxType:"Exercise"}),(0,a.yg)("h2",{id:"summary"},"Summary"),(0,a.yg)("p",null,"These examples and exercises provide hands-on experience with core ROS 2 concepts. Practice implementing these patterns and extending them to create more complex robotics applications."))}p.isMDXComponent=!0},5680:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>g});var r=n(6540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),l=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(o.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef(function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),m=l(n),u=a,g=m["".concat(o,".").concat(u)]||m[u]||p[u]||i;return n?r.createElement(g,s(s({ref:t},d),{},{components:n})):r.createElement(g,s({ref:t},d))});function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=u;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c[m]="string"==typeof e?e:a,s[1]=c;for(var l=2;l<i;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9591:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(6540),a=n(53);const i={container:"container_DJUV",header:"header_8Po6",title:"title_gLrK",meta:"meta_upBu",difficulty:"difficulty_mbNi",beginner:"beginner_8ATc",intermediate:"intermediate_FNzA",advanced:"advanced_-ilr",type:"type_bvka",content:"content_LRG-",sectionTitle:"sectionTitle_QGya",instructions:"instructions_d92c",expectedOutcome:"expectedOutcome_FOyF"},s=({title:e,difficulty:t,type:n,instructions:s,expectedOutcome:c})=>r.createElement("div",{className:(0,a.A)("exercise-container",i.container)},r.createElement("div",{className:i.header},r.createElement("h3",{className:i.title},e||"Exercise"),r.createElement("div",{className:i.meta},r.createElement("span",{className:(0,a.A)(i.difficulty,(e=>{switch(e?.toLowerCase()){case"beginner":return i.beginner;case"intermediate":return i.intermediate;case"advanced":return i.advanced;default:return i.default}})(t))},t||"Unknown Level"),r.createElement("span",{className:i.type},(e=>{switch(e?.toLowerCase()){case"theoretical":return"Theoretical";case"practical":return"Practical";case"simulation":return"Simulation";case"hardware":return"Hardware";default:return e||"Exercise"}})(n)))),r.createElement("div",{className:i.content},r.createElement("h4",{className:i.sectionTitle},"Instructions:"),r.createElement("div",{className:i.instructions},s?r.createElement("div",{dangerouslySetInnerHTML:{__html:s}}):r.createElement("p",null,"No instructions provided.")),c&&r.createElement(r.Fragment,null,r.createElement("h4",{className:i.sectionTitle},"Expected Outcome:"),r.createElement("div",{className:i.expectedOutcome},c))))}}]);